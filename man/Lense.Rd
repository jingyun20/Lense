% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Lense.R
\name{Lense}
\alias{Lense}
\title{Lense: Automated Selection of Preprocessing Pipeline via GPT-4o or Simulated Mode}
\usage{
Lense(
  seurat_obj,
  nfeatures_vals = NULL,
  pc_vals = c(5, 20),
  resolution = 0.3,
  api_key = Sys.getenv("OPENAI_API_KEY")
)
}
\arguments{
\item{seurat_obj}{A Seurat object after cell filtering and quality control.}

\item{nfeatures_vals}{A vector or list specifying the number of highly variable features (e.g., c(200, 500)) to evaluate.
Use \code{NULL} (default) to apply automated selection: using all features and a dynamic value computed as
\eqn{a = 2 \times 10^{\lceil \log_{10}(I / 2) \rceil - 1}}, where \eqn{I} is the total number of features (genes).}

\item{pc_vals}{A numeric vector specifying the number of principal components to evaluate (default: \code{c(5, 20)}).}

\item{resolution}{Clustering resolution for Seurat clustering (default: \code{0.3}).}

\item{api_key}{Your OpenAI API key as a character string. Defaults to the environment variable \code{OPENAI_API_KEY}.}
}
\value{
A list containing:
\item{best_pipeline}{A character string describing the selected optimal preprocessing pipeline.}
\item{comparisons_log}{A list containing the full log of pairwise comparisons.}
\item{umap_folder}{A character string with the path to the folder containing all UMAP plots.}
}
\description{
Applies multiple preprocessing pipelines to a single-cell Seurat object,
generates UMAP plots, and selects the optimal pipeline using either GPT-4o-based visual comparison
or simulated mode. All UMAP plots are saved automatically. Returns the selected best pipeline
and the full pairwise comparison log.
}
\examples{
\dontrun{
Sys.setenv(OPENAI_API_KEY = "your_api_key")
result <- Lense(seurat_obj)
result$best_pipeline
View(result$comparisons_log)
}


}
